#version 450

// Define the local workgroup size
layout(local_size_x = 4, local_size_y = 1, local_size_z = 1) in;

// Storage buffer layout - input buffer (read-only)
layout(std430, set = 0, binding = 0) restrict readonly buffer InputBuffer {
    float values[4];
} in_buf;

// Storage buffer layout - output buffer (write-only)
layout(std430, set = 0, binding = 1) restrict writeonly buffer OutputBuffer {
    float values[4];
} out_buf;

void main() {
    // Get the global invocation id
    uint gid = gl_GlobalInvocationID.x;
    
    // Bounds check to prevent out-of-bounds access
    if (gid >= 4) {
        return;
    }
    
    // Add 100.0 to the input value to verify data is being read correctly
    out_buf.values[gid] = in_buf.values[gid] + 100.0;
}